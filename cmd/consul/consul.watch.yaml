# yaml-language-server: $schema=https://carapace.sh/schemas/command.json
name: watch
description: Watch for changes in Consul
flags:
    --ca-file=: Path to a CA file to use for TLS when communicating with Consul.
    --ca-path=: Path to a directory of CA certificates to use for TLS when communicating with Consul.
    --client-cert=: Path to a client cert file to use for TLS when 'verify_incoming' is enabled.
    --client-key=: Path to a client key file to use for TLS when 'verify_incoming' is enabled.
    --datacenter=: Name of the datacenter to query.
    --http-addr=: The `address` and port of the Consul HTTP agent.
    --key=: Specifies the key to watch.
    --name=: ""
    --passingonly=: Specifies if only hosts passing all checks are displayed.
    --prefix=: Specifies the key prefix to watch.
    --service=: Specifies the service to watch.
    --shell: Use a shell to run the command.
    --stale: Permit any Consul server (non-leader) to respond to this request.
    --state=: Specifies the states to watch.
    --tag*=: Specifies the service tag(s) to filter on.
    --tls-server-name=: The server name to use as the SNI host when connecting via TLS.
    --token-file=: File containing the ACL token to use in the request.
    --token=: ACL token to use in the request.
    --type=: Specifies the watch type.
documentation:
    command: '[AI] `consul watch` is a Command Line Interface (CLI) command provided by Hashicorp''s Consul service discovery and configuration tool. This command enables real-time monitoring of changes in the Consul KV store or service registration data, without requiring a full refresh. It uses Consul''s event system to stream updates to the specified key or service, providing near real-time feedback for any modifications made within the Consul ecosystem.'
    flag:
        ca-file: '[AI] `consul watch` is a command-line tool for Consul, a popular service discovery and configuration management tool. The `--ca-file` option is used to specify a file containing SSL certificates to be trusted when making secure HTTPS connections to Consul servers. This ensures that the client verifies the identity of the server before establishing a connection, adding an extra layer of security.'
        ca-path: '[AI] The `--ca-path` flag in the `consul watch` command is used to specify a directory containing trusted Certificate Authority (CA) certificates for secure communication with Consul. The Consul agent uses these CA certificates to verify the identity of servers and clients during TLS encrypted communication. This helps ensure the security and integrity of data transmitted between Consul components.'
        client-cert: '[AI] The `--client-cert` flag is used with Consul''s Watch command in its CLI (Command Line Interface). It specifies the path to a client TLS certificate file that will be used for secure communication between the watcher process and the Consul server. The certificate file must be valid and properly configured for secure communication to establish an encrypted connection.'
        client-key: '[AI] The `consul watch --client-key` command is used with Consul, a popular service discovery and configuration management tool. This specific command is used to monitor changes in the Consul KV (Key-Value) store or catalog using a provided client key. When executed, it will continuously poll the Consul API for updates and output any modifications that match the specified client key. The client key identifies the principal making the request to the Consul API and is used for access control purposes.'
        datacenter: '[AI] `consul watch` is a command from Consul, a distributed, open-source platform for service registration, discovery, and configuration. The `--datacenter` option specifies which datacenter to monitor for changes. A datacenter in Consul represents a logical grouping of servers that form a consistent cluster for service discovery and coordination. By using `consul watch --datacenter <name>`, you can observe real-time updates to service registration, key-value store data, and other state within the specified datacenter.'
        http-addr: '[AI] `consul watch` is a command-line tool for Consul, an open-source distributed computing platform. The `--http-addr` flag is used to specify the HTTP address where Consul should listen for requests. By default, Consul listens on all interfaces with an address of 127.0.0.1:8500. However, you can use the `--http-addr` flag to change this to another IP address or port if needed. For example, `consul watch --http-addr 192.168.0.1:8501` would start Consul in watch mode and listen for requests on the IP address 192.168.0.1 and port 8501 instead.'
        key: '[AI] `consul watch` is a command-line tool for interacting with the Consul service discovery and configuration management platform. The `--key` option is used to filter the output of the `watch` subcommand, which monitors the value of a specific key in the Consul KV store and displays updates in real time. For example, `consul watch --key my/config/key` will display any changes made to the value associated with the key "my/config/key" in the KV store.'
        name: '[AI] `consul watch` is a command-line tool for Consul, an open-source service discovery and configuration management platform. The `--name` option is used to specify the name of a particular service or key in Consul that you want to monitor with the `watch` command. When you run `consul watch --name <service_or_key_name>`, it will display real-time updates as changes are made to the specified resource in Consul.'
        passingonly: '[AI] The `consul watch --passingonly` command is used with Hashicorp''s Consul service discovery and configuration management tool. This specific command tells Consul to only display events where the status has changed from "failed" to "passing". This can be helpful for monitoring the health of services or infrastructure that are being managed by Consul, allowing you to focus on resolved issues and ensure smooth operation.'
        prefix: '[AI] `consul watch` is a command-line tool for Consul, an open-source service discovery and configuration management platform. The `--prefix` option filters the output of the `watch` command by only showing events under the specified prefix in the Consul KV store. For instance, `consul watch --prefix my_key` will display all events related to the key "my\_key" and its children in the hierarchical KV store.'
        service: '[AI] The `consul watch --service` command is used in Consul, a service discovery and configuration management tool. It allows users to monitor changes to a specific service registration in real-time. The `watch` subcommand enables the live tracking of events, while `--service` specifies the name of the service to be monitored. When run, it will display updated information as new events occur related to that service''s registration or de-registration within the Consul cluster.'
        shell: '[AI] `consul watch` is a command from Consul, a popular service discovery and configuration management tool. The `--shell` flag modifies the output of `watch` to provide real-time updates in a format that can be directly used in the Consul''s built-in scripting language, known as the Consul CLI Language (CCL). Essentially, it enables you to observe changes and react accordingly within the same command-line interface.'
        stale: '[AI] `consul watch` is a command from the Consul toolkit used for service discovery and configuration management. The `--stale` flag modifies its behavior. With `--stale`, `watch` will return changes even if they are stale, meaning that it may return events for updates that have already been applied or rolled back. This can be useful in certain scenarios where real-time response is required and eventual consistency is acceptable.'
        state: '[AI] `consul watch --state` is a command used in Hashicorp Consul, a service discovery and configuration management tool. This command enables real-time monitoring of the Consul KV (Key-Value) store for changes in the specified key or path. When run with this specific option, it will display only the current state of the monitored data, waiting for further updates without making any changes. Essentially, it is a read-only watch function.'
        tag: '[AI] The `consul watch` command is a tool from Consul, an open-source service discovery and configuration management platform. The `--tag` option filters the output of this command to only show services that have specific user-defined tags. By specifying multiple tags with `--tag` flag followed by `key=value`, you can watch for changes in services with those particular tags. For example, `consul watch service --tag key1=value1 key2=value2` will display real-time updates of services that have both `key1=value1` and `key2=value2` as their tags.'
        tls-server-name: '[AI] `consul watch` is a command in the Consul toolkit, which is used for monitoring and managing the state of a Consul cluster or service registry. The `--tls-server-name` option specifies that the client should use TLS (Transport Layer Security) encryption and verify the server''s identity based on its server name during the communication. This helps to secure the communication between the client and the Consul server by ensuring the authenticity of the server and encrypting the data transmitted between them.'
        token: '[AI] `consul watch` is a command-line tool for Consul, a popular service discovery and configuration management tool. The `--token` option is used to provide an ACL (Access Control List) token for authentication. With this token, the `watch` command can be used to monitor changes in the Consul API, such as new or updated services, and return real-time results. This can be useful for automating responses to changes in the system.'
        token-file: '[AI] `consul watch` is a command-line utility provided by Consul, an open-source tool for service discovery, configuration, and orchestration. The `--token-file` flag is used to specify the path to a file containing a Consul ACL token. With this flag set, `consul watch` will filter and display events related only to the services and keys that match the permissions granted by the token in the file.'
        type: '[AI] `consul watch` is a command from Consul, an open-source distributed computing platform. The `--type` option allows users to filter the types of events they want to monitor. These event types include KeyValue, HealthCheck, EventEnvelope, and TTL. For instance, using `consul watch --type KeyValue` will only display events related to key-value changes in the Consul service registry or configuration store.'
