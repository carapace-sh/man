# yaml-language-server: $schema=https://carapace.sh/schemas/command.json
name: zip
description: package and compress (archive) files
flags:
    -@: read names from stdin
    "-0": store only
    "-1": compress faster
    "-9": compress better
    -A: adjust self-extracting exe
    -D: do not add directory entries
    -F: fix zipfile (-FF try harder)
    -J: junk zipfile prefix (unzipsfx)
    -T: test zipfile integrity
    -X: eXclude eXtra file attributes
    -b=: ""
    -c: add one-line comments
    -d: delete entries in zipfile
    -e: encrypt
    -f: 'freshen: only changed files'
    -i: include only the following names
    -j: junk (don't record) directory names
    -l: convert LF to CR LF
    -m: move into zipfile (delete OS files)
    -n=: don't compress these suffixes
    -o: make zipfile as old as latest entry
    -q: quiet operation
    -r: recurse into directories
    -t=: ""
    -u: 'update: only changed or new files'
    -v: verbose operation/print version info
    -x: exclude the following names
    -y: store symbolic links as the link instead of the referenced file
    -z: add zipfile comment
documentation:
    command: '[AI] The `zip` command is a utility in Unix-based operating systems used for creating and extracting zip files, which are archive formats that allow compressing one or more files into a single file with the .zip extension. When creating an archive, `zip` can also compress the data to reduce storage space. For example, `zip archive_name file1 file2` creates an archive named "archive\_name" from "file1" and "file2". To extract files, use `unzip archive_name`.'
    flag:
        '@': '[AI] The `zip -@` command is a utility in Unix-based operating systems used for compressing and packing multiple files into a single archive with the .zip file extension. The `-@` option enables the use of an unlimited number of pipes (`|`) as input sources, allowing multiple files to be compressed and added to the same archive in one command. In summary, `zip -@` is used for creating zip archives from standard input or multiple input files via piping.'
        "0": '[AI] The `zip` command with the option `-0` is used to create or update a zip archive with zero compression level. In other words, it stores the files in their original format without any data compression. This can be useful when you want to keep the original file metadata and attributes in the archive, such as timestamps or permissions. The output is still a valid zip file but does not reduce the size of the archived data.'
        "1": '[AI] The command `zip -1 <filename>.zip` is used in Unix-based systems to list the contents of a given ZIP file without extracting it. The `-1` option stands for "list mode," which means that only the names of the files inside the archive are displayed when running the command.'
        "9": '[AI] The `zip` command with the option `-9` is used in Unix or Unix-like operating systems for data compression. The `-9` flag stands for "maximum compression" level, which means that the Zip algorithm will use its most advanced and effective compression methods to reduce the size of the archived files as much as possible. When you compress a file using this option, the resulting archive is often smaller than one created with less aggressive compression levels. However, achieving maximum compression may require more computational resources and time.'
        A: '[AI] The `zip -A` command in Unix-based systems is used to add new files to an existing ZIP archive. The `-A` option specifies that the new files should be added at the end of the archive, preserving the original directory structure. This can be useful when you want to update an existing archive without modifying its initial content.'
        D: '[AI] The `-d` option in the `zip` command is used for extracting files from a zip archive. When you want to delete files that exist in the archive but have been removed or modified outside of it, use the `-d` flag with the `-r` (recursive) option to update an existing zip archive: `zip -r newArchive.zip -d oldArchive.zip *`. The `-D` option is not a valid option in the standard `zip` command.'
        F: '[AI] The `-F` option used with the `zip` command in Unix-based systems is called the "force" option. When this flag is specified, zip will create a new archive even if the named file already exists. Normally, zip gives an error when trying to overwrite an existing archive, but with -F, it will replace the old one without asking for confirmation.'
        J: '[AI] The `-J` option in the `zip` command is used to store text files as UTF-8 encoded, uncompressed ASCII files inside the zip archive instead of storing them as compressed data. This makes it easier for text editors and other applications to read and edit the files directly from the archive without having to extract them first. The resulting archive is still a valid zip file but can be identified by its larger size compared to a standard compressed zip archive.'
        T: '[AI] `zip -T` is a command-line option for the `zip` utility in Unix-based systems. It''s used to test the integrity of a zip archive without extracting or modifying its contents. The `-T` flag stands for "test" and when run on an existing zip file, it verifies the compression and checksum of each local file that is included in the archive against their current states. If the test passes, the output will be silent; if not, the utility will print a message indicating which files failed verification.'
        X: '[AI] The `zip` command with the option `-X` disables the creation of Zip64 extended information. This means that the resulting ZIP archive will not support files larger than 2GB or more than 65535 local file entries. Without this option, ZIP64 format is used by default for large archives.'
        b: '[AI] The `zip` command with the option `-b` creates a new ZIP archive and writes it to a file specified as an argument, rather than appending to an existing archive. The `-b` flag stands for "create new archive" or "write to a new archive file". For example, `zip -r myarchive.zip . -b mynewarchive.zip` creates a new archive named "mynewarchive.zip" and includes all files in the current directory in it.'
        c: '[AI] `zip -c` is a command used in Unix-based operating systems to create a new ZIP archive with the specified file(s) included as members. The `-c` option stands for "create" and tells the `zip` utility to create a new archive instead of modifying an existing one. When used, it displays detailed information about the process including the names and compression levels of each added file.'
        d: '[AI] The `zip -d` command is used with the `zip` utility in Unix-based systems for extracting files from a zip archive. The `-d` option stands for "delete." When you use this option along with the `extract` mode (denoted by the `-f` or `-x` options), it removes the specified files from the output archive as they are being extracted to a new location. If no file names are provided, `zip -d` will delete all files in the input archive when extracting to a new one.'
        e: '[AI] `zip -e` is a command used in Unix-based operating systems to list the contents of a ZIP archive with the enhanced information (long listing) format. The `-e` option provides detailed information about each file, including its compression method, compression ratio, and last modification time.'
        f: '[AI] The `zip` command with the option `-f` is used in Unix-based systems for forcing `zip` to overwrite existing files or directories when adding them to a new or existing zip archive. The `-f` flag stands for "force," and it helps in avoiding errors while updating or appending files to the archive. When using this option, `zip` does not ask for confirmation before performing the specified operation.'
        i: '[AI] The `-i` option used with the `zip` command in Unix-based systems is used to include all entries in a directory recursively when creating or updating a ZIP archive. This means that the entire hierarchy of files and directories within the specified source directory will be added to the ZIP file.'
        j: '[AI] The `-j` option used with the `zip` command in Unix-based systems is called the "Join" option. It merges all input files into a single compressed file without creating separate .zip files for each input file, thus producing a single archive file. In other words, it creates a zip archive with multiple entries from multiple files.'
        l: '[AI] The `zip -l` command is used in Unix-based systems to list the contents of a ZIP archive without extracting it. The `-l` option stands for "list" and provides a detailed output, including the name, compression method, size, and date/time of each file inside the archive. It can be useful for checking the contents of a ZIP file without having to extract it first.'
        m: '[AI] The `-m` option used with the `zip` command in Unix-based systems creates a new zip archive in memory and saves it to a file when the process is finished. The `z` in `zip` stands for "compress" and the `-m` flag tells the command to create a new, empty archive first before adding files to it with the `-r` or `-a` options. This can be useful when you want to update an existing archive or create a new one from specific files without appending to an existing archive.'
        "n": '[AI] The `zip -n` command in Unix-based systems is used to create or update a ZIP archive with a new or modified filename that has no extension. The `-n` option stands for "name only", meaning it only updates the file names without modifying their contents. If the specified file doesn''t exist in the archive, it will be added as a new entry.'
        o: '[AI] The `-o` option used with the `zip` command in Unix-based systems is used to specify an output file name for the resulting zipped archive. The `zip -o <archive>.zip <files_to_be_added>` command creates a new zip archive named `<archive>.zip` and adds the specified files `<files_to_be_added>` to it. The `-o` flag ensures that if an existing file with the same name exists, it is overwritten in the process of creating the new archive.'
        q: '[AI] The `zip -q` command in Unix-based systems is used to test a file or a set of files for compressability with the `zip` utility, without actually creating a new archive. The `-q` option stands for "quiet" and suppresses most output, only displaying error messages if any files cannot be compressed. This can be useful in scripts or automated processes where you want to check if certain files can be archived before attempting to create an archive.'
        r: '[AI] The `zip` command with the `-r` option is used to create a new ZIP archive or update an existing one. The `-r` flag stands for "recursive," which means that it will include all files and directories, including those within subdirectories, in the specified directory when creating the archive. When executed, `zip -r <archive_name.zip> <directory_to_compress>`, all files and directories within `<directory_to_compress>` will be added to the new or updated ZIP archive named `<archive_name.zip>`.'
        t: '[AI] The `zip -t` command is used with the ZIP utility in Unix-based systems to test the integrity of a ZIP archive file. The `-t` option stands for "test," and when used, it verifies that all the local files referenced in the archive are still present and have the same size as when they were added to the archive. If the verification is successful, no message is displayed; if not, an error message indicating which file has a problem will be shown.'
        u: '[AI] The `zip -u` command is used in Unix-based operating systems to update an existing ZIP archive. The `-u` option stands for "update." When you run this command, you specify the name of the existing ZIP archive and then add the names of the files you want to update or add to the archive. If the files already exist in the archive, they will be replaced with the latest versions. If they don''t exist, they will be added to the archive as new entries.'
        v: '[AI] The `zip` command with the `-v` option is used in Unix-based systems to create or update a ZIP archive with verification. The `-v` flag stands for "verbose," which means that detailed information about each file being added or updated in the archive will be displayed during the process, including compression ratio and any errors encountered.'
        x: '[AI] The `zip -x` command is used with the `zip` utility in Unix-based systems for creating or updating ZIP archives. The `-x` option specifies that only the named files or directories will be excluded from the archive, rather than including everything else and explicitly listing what to include as is done with the `-i` option. This can be useful when dealing with large numbers of files or complex directory structures where it''s more convenient to exclude specific items rather than including all and excluding some.'
        "y": '[AI] The `zip` command with the option `-y` is used in Unix-based systems for archiving files. The `-y` flag stands for "force yes" and is typically used when merging existing zip archives. When this option is provided, zip will overwrite any existing files in the archive without asking for confirmation. This can be useful in automation scripts or when you are certain that you want to replace the existing files with newer versions.'
        z: '[AI] The `zip -z` command in Unix-based systems is used to add a zipped file''s digital signature or compression certificate to an existing ZIP archive. This operation preserves the original directory structure and timestamps, making it useful for verifying the integrity of archives during transfers between systems. The flag `-z` stands for "zipnote" or "add comments," signifying that a comment (in this case, a digital signature) is being added to the archive.'
