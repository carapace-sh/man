# yaml-language-server: $schema=https://carapace.sh/schemas/command.json
name: poddisruptionbudget NAME --selector=SELECTOR --min-available=N [--dry-run=server|client|none]
aliases:
    - pdb
description: Create a pod disruption budget with the specified name
flags:
    --allow-missing-template-keys: If true, ignore any errors in templates when a field or map key is missing in the template. Only applies to golang and jsonpath output formats.
    --dry-run?: Must be "none", "server", or "client". If client strategy, only print the object that would be sent, without sending it. If server strategy, submit server-side request without persisting the resource.
    --field-manager=: Name of the manager used to track field ownership.
    --max-unavailable=: The maximum number or percentage of unavailable pods this budget requires.
    --min-available=: The minimum number or percentage of available pods this budget requires.
    --save-config: If true, the configuration of current object will be saved in its annotation. Otherwise, the annotation will be unchanged. This flag is useful when you want to perform kubectl apply on this object in the future.
    --selector=: A label selector to use for this budget. Only equality-based selector requirements are supported.
    --show-managed-fields: If true, keep the managedFields when printing objects in JSON or YAML format.
    --template=: Template string or path to template file to use when -o=go-template, -o=go-template-file. The template format is golang templates [http://golang.org/pkg/text/template/#pkg-overview].
    --validate?: Validation mode.
    -o, --output=: 'Output format. One of: (json, yaml, name, go-template, go-template-file, template, templatefile, jsonpath, jsonpath-as-json, jsonpath-file).'
documentation:
    command: '[AI] `kubectl create PodDisruptionBudget` is a command used to create a PodDisruptionBudget object in Kubernetes using the `kubectle` CLI (Kubernetes Command Line Interface) tool. A PodDisruptionBudget defines the minimum number of replicas that should be available for a given deployment or statefulset, ensuring availability and preventing disruptions during updates or node maintenance. It allows controlling the eviction behavior based on pod priorities and can be used to define rolling update strategies with grace periods, maximizing application uptime while minimizing downtime.'
    flag:
        allow-missing-template-keys: '[AI] `kubectl create poddisruptionbudget` is a command used in Kubernetes to create a PodDisruptionBudget (PDB) object. A PDB is used to define the minimum number of replicas for a deployment that should be available at any given time. The `--allow-missing-template-keys` flag is an optional argument that allows the creation of a PDB even if some fields in the template are missing. Without this flag, Kubernetes would reject the creation of the PDB due to missing required fields. By using this flag, Kubernetes will create the PDB with the given configuration, and you can add or update the missing fields later.'
        dry-run: '[AI] `kubectl create poddisruptionbudget --dry-run` is a command used in Kubernetes to create a PodDisruptionBudget (PDB) object in a dry-run mode. A PDB is an object that helps maintain the desired state of a set of replicas for a application by specifying the minimum available replicas during a disruption. The `--dry-run` flag means that kubectl will show what would be created without actually creating or updating objects in the cluster. This can be used to see the YAML definition that would be applied, and validate the configuration before applying it in a real environment.'
        field-manager: |-
            [AI] `kubectl create poddisruptionbudget` is a command used in Kubernetes to create a PodDisruptionBudget (PDB) object. A PDB is an optional Kubernetes resource that can be used to define the minimum number of replicas of a deployed application that must be available at any given time to ensure service continuity.

            The `--field-manager` flag is an optional argument provided with this command for specifying a custom controller or manager responsible for managing the PDB's fields, such as the minimum availability and selector. By using this flag, users can delegate the management of the PDB's configuration to a specific controller, allowing it to automatically update and sync the resource based on the desired state. For example:

            ```bash
            kubectl create poddisruptionbudget my-pdb --field-manager=mycontroller/v1
            ```

            This command creates a new PDB named `my-pdb`, and assigns it to be managed by the custom controller with the namespace and version `mycontroller/v1`.
        max-unavailable: '[AI] The `kubectl create poddisruptionbudget` command creates a Pod Disruption Budget (PDB) object in Kubernetes. A PDB is used to ensure that a specified number of replicas of a particular deployment are available at any given time. The `--max-unavailable` flag sets the maximum number of replicas that can be unavailable without violating the SLA. This means that if more than this number of replicas go down, Kubernetes will start evicting pods from other replicas to maintain the desired level of availability. For example, `--max-unavailable=1` would allow for one pod to be down without violating the PDB.'
        min-available: '[AI] The `kubectl create poddisruptionbudget` command is used to create a Pod Disruption Budget (PDB) object in Kubernetes. A PDB is a resource that ensures a minimum number of replicas of a Pod are available at any given time, even during updates or node maintenance. The `--min-available` flag sets the minimum number of available replicas for the specified pod or deployment. For instance, `kubectl create poddisruptionbudget my-pdb --min-available=3` ensures that there will always be at least 3 replicas of the "my-pdb" Pod or Deployment available. This can help maintain application availability and ensure business continuity during updates or maintenance activities.'
        output: |-
            [AI] The `kubectl create poddisruptionbudget` command creates a Pod Disruption Budget (PDB) object in Kubernetes, which ensures that a specified number of replicas of a Pod remain available at all times to maintain the desired level of availability for an application.

            The option `--output=json` or simply `-o json` specifies that the output of the command should be formatted as JSON. This can be useful when working with scripts or automated tools that require this format to process the data. The JSON output will contain all the details about the newly created Pod Disruption Budget object, including its metadata, specification, and status.
        save-config: |-
            [AI] `kubectl create poddisruptionbudget` is a command used in Kubernetes to create a PodDisruptionBudget object. A PodDisruptionBudget defines the minimum number of replicas that must be available for a Kubernetes deployment or statefulset to continue functioning correctly during a node drain event or other disruptions.

            The `--save-config` flag is an optional argument for the command. If used, it saves the configuration used in creating the PodDisruptionBudget to a file named `poddisruptionbudget.yaml` in the current working directory by default. This can be useful for keeping a record of the exact configuration used when creating or updating resources in Kubernetes.
        selector: '[AI] `kubectl create poddisruptionbudget` is a command used in Kubernetes to create a Pod Disruption Budget (PDB). A PDB is an object that defines the desired state for a set of replicas of a Kubernetes Pod, including the minimum number of available replicas. The `--selector` flag is optional and specifies a label selector to filter which pods this PDB applies to. By creating a PDB with a specific selector, you can ensure that a certain number of replicas of those labeled pods are always available to maintain the desired state of your application.'
        show-managed-fields: |-
            [AI] `kubectl create poddisruptionbudget` is a command used in Kubernetes to create a PodDisruptionBudget (PDB) object. A PDB is a custom resource that helps manage the desired state for a set of replicas in a deployment, by defining the minimum available replicas during maintenance or node outages.

            The `--show-managed-fields` flag is an optional argument to this command. When used, it instructs `kubectl` to display only the managed fields of the resulting resource object after creation. Managed fields are the parts of the resource that were actually modified by the `create` or `apply` command, and exclude fields that were not changed. This option can help in understanding exactly what was applied during the creation process.
        template: '[AI] `kubectl create poddisruptionbudget --template` is a command used in Kubernetes to create a PodDisruptionBudget (PDB) object definition using a template. A PDB is a custom resource that ensures a minimum number of replicas for a StatefulSet or Deployment, while allowing for planned downtime or evictions. The `--template` option instructs `kubectl` to generate the YAML manifest from a file or inline text. This command helps simplify the process of managing complex Kubernetes resources by allowing users to define templates and apply them across multiple environments.'
        validate: '[AI] `kubectl create poddisruptionbudget` is a command used in Kubernetes to create a PodDisruptionBudget (PDB) object. A PDB is a custom resource definition that allows users to specify the minimum number of replicas for a deployment, as well as define the conditions under which a disruption to those replicas is allowed. The `--validate` flag causes `kubectl` to validate the yaml or json configuration file against the Kubernetes schema before creating the object. This helps ensure that the resource is created with correct syntax and conforms to the desired state before actually deploying it in the cluster.'
