# yaml-language-server: $schema=https://carapace.sh/schemas/command.json
name: datacenters
description: Lists all known datacenters
flags:
    --ca-file=: Path to a CA file to use for TLS when communicating with Consul.
    --ca-path=: Path to a directory of CA certificates to use for TLS when communicating with Consul.
    --client-cert=: Path to a client cert file to use for TLS when 'verify_incoming' is enabled.
    --client-key=: Path to a client key file to use for TLS when 'verify_incoming' is enabled.
    --datacenter=: Name of the datacenter to query.
    --http-addr=: The `address` and port of the Consul HTTP agent.
    --stale: Permit any Consul server (non-leader) to respond to this request.
    --tls-server-name=: The server name to use as the SNI host when connecting via TLS.
    --token-file=: File containing the ACL token to use in the request.
    --token=: ACL token to use in the request.
documentation:
    command: '[AI] The `consul catalog datacenters` command is used with the Consul CLI (Command Line Interface) tool to list the datacenters configured in a Consul cluster. Consul is a service discovery and configuration management tool. This command allows users to view the name and status of each datacenter, providing information about where services are located and how they''re replicated across different sites for high availability and disaster recovery.'
    flag:
        ca-file: '[AI] The `consul catalog datacenters --ca-file` command is used with Consul, a Connectivity and Service Discovery tool by Hashicorp. This command retrieves the list of datacenters that Consul is currently aware of from the ConsulCatalogAPI. The `--ca-file` option specifies the path to a TLS CA certificate file which Consul uses to authenticate the API server. By providing this flag, you ensure secure communication between your client and the Consul API server.'
        ca-path: |-
            [AI] The `consul catalog datacenters --ca-path` command is used with Consul, a popular service discovery and configuration management tool. This specific command outputs information about the configured datacenters in a Consul cluster and includes the paths to the certificates authority (CA) files.

            Consul forms a distributed system using multiple servers that can be organized into different data centers for various reasons such as geographical proximity or logical separation of services. The `datacenters` subcommand lists these datacenters, and when combined with the `--ca-path` option, it provides each datacenter's name along with the absolute file paths to their corresponding CA certificates, which are essential for secure communication between servers in different data centers.
        client-cert: '[AI] The `consul catalog datacenters --client-cert` command is used with Consul, a popular service discovery and configuration management tool. This specific command displays information about the datacenters known to the Consul CLI client. It requires the use of a client certificate for secure communication between the client and the Consul server or servers. The output shows the name and address (IP and HTTP URL) of each datacenter, providing information that can be used to select and connect to the appropriate Consul cluster for service discovery and configuration management tasks.'
        client-key: '[AI] The `consul catalog datacenters --client-key` command is used with the Consul service discovery tool to list the known data centers and their corresponding addresses. The `--client-key` flag specifies the client token or key, which is required for secure access to the Consul API. This command helps in managing multi-datacenter Consul deployments and getting an overview of the available services across different datacenters.'
        datacenter: '[AI] The `consul catalog datacenters --datacenter` command is used with Consul, a distributed, open-source tool for service discovery, configuration, and orchestration. This specific command displays the details of the currently selected datacenter in Consul''s CLI interface. A datacenter represents a physical location where Consul agents are running, which might include multiple servers or nodes. By providing the `--datacenter` flag followed by the name of a known datacenter, this command provides detailed information about that particular datacenter, such as its ID, address, and agent statuses within it.'
        http-addr: '[AI] The `consul catalog datacenters --http-addr` command is used with Hashicorp Consul, a distributed, highly available, and data center aware solution to connect and configure applications. This specific command lists the datacenters that are currently known to the Consul cluster. The `--http-addr` flag specifies the HTTP address of the Consul agent or server from which to retrieve this information.'
        stale: '[AI] The `consul catalog datacenters --stale` command is a part of Consul, a Connect and Service Discovery solution by Hashicorp. This command is used to list all known datacenters in the Consul catalog, including those with stale or outdated information. Stale datacenters are those that have not been able to be reached by Consul for a configured period of time but were once part of the live cluster. By running this command, an operator can get a comprehensive view of their entire cluster status, including nodes that may need attention due to connectivity issues or other problems.'
        tls-server-name: '[AI] The `consul catalog datacenters --tls` command is used with Hashicorp''s Consul service discovery and configuration management tool to list the known datacenters in a Consul cluster. The `--tls-server-name` flag specifies that the server names for TLS certificate verification should be retrieved from the Consul Catalog API response, rather than using defaults or static values. This ensures secure communication between clients and servers in the cluster by validating the server''s identity based on its name.'
        token: '[AI] The `consul catalog datacenters --token` command is used with the Consul Discovery Service and CLI tool. It returns a list of known datacenters along with their addresses, along with the current datacenter name of the client running the command. The `--token` option is included to provide authentication and ensure only authorized requests are processed by the Consul API.'
        token-file: '[AI] The `consul catalog datacenters --token-file` command is used in Hashicorp Consul, a service discovery and configuration management tool. This command retrieves a list of all registered data centers known to the Consul cluster from the local CLI client. It requires a valid token file to authenticate and access this information. The output will show the name and address (IP or hostname) for each datacenter in the cluster.'
