# yaml-language-server: $schema=https://carapace.sh/schemas/command.json
name: debug
description: Records a debugging archive for operators
flags:
    --archive: Boolean value for if the files should be archived and compressed.
    --capture*=: One or more types of information to capture.
    --duration=: The total time to record information.
    --interval=: The interval in which to capture dynamic information.
    --output=: The path to the compressed archive that will be created with the information after collection.
documentation:
    command: '[AI] `consul debug` is a command provided by Hashicorp''s Consul service discovery and configuration tool. This command starts an interactive debugging session with a Consul server or agent, allowing users to inspect its internal state, execute ad-hoc queries, or even modify configuration settings in real time for troubleshooting and exploration purposes. This can be particularly useful when dealing with complex configurations or diagnosing issues within the Consul ecosystem.'
    flag:
        archive: '[AI] `consul debug --archive` is a command used in Hashicorp''s Consul service discovery and configuration management tool. This command invokes the Consul debugger with an archive file as its argument. The archive file contains a snapshot of the current state of a Consul data center, including configurations, keys, and other metadata. By providing this archive to the debugger, users can inspect and analyze the data without disturbing the live environment. This command is particularly useful for troubleshooting complex issues or understanding the configuration of a large Consul setup.'
        capture: '[AI] `consul debug --capture` is a command from Hashicorp''s Consul service discovery and configuration tool. This specific command initiates a remote debugging session on a Consul agent, capturing its output. The flag `--capture` instructs the command to run in interactive mode and streams the agent''s stdout, stderr, and other logs for real-time analysis and troubleshooting.'
        duration: '[AI] `consul debug --duration` is a command used in Hashicorp Consul, a distributed system for service discovery, configuration, and orchestration. This command initiates a debug mode session with a Consul agent or node, running it for a specified duration using the `--duration` flag. The duration can be provided in seconds or in a time format recognized by the Go standard library (e.g., "1h30m"). The purpose of this command is to help diagnose and troubleshoot issues within Consul, providing detailed information about its internal workings during the specified period.'
        interval: '[AI] `consul debug --interval` is a command used in Hashicorp''s Consul service discovery and configuration tool. This command starts an interactive debugging session with Consul, which allows users to inspect and modify the internal data structures of the Consul server in real time. The `--interval` option sets the interval at which the debugger polls the Consul API for updates. By default, this value is set to 100ms (0.1 seconds), but it can be adjusted with this flag for more or less frequent updates. This can be useful when investigating dynamic changes in a Consul environment.'
        output: '[AI] The `consul debug --output` flag is used with Consul, a distributed, highly available, and data center aware solution to connect and configure services. This command invokes Consul''s built-in debug mode, which provides access to diagnostic information about the running agent. The `--output` flag specifies the desired output format, such as json or table, for the diagnostic information. For instance, `consul debug --output json` would provide the diagnostic data in a JSON format that could be easily parsed and processed by scripts or other programs.'
