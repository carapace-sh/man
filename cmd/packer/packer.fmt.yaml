# yaml-language-server: $schema=https://carapace.sh/schemas/command.json
name: fmt
description: Rewrites HCL2 config files to canonical format
flags:
    -check: Check if the input is formatted.
    -diff: Display diffs of formatting change
    -recursive: Also process files in subdirectories.
    -write: Don't write to source files
documentation:
    command: '[AI] `packer fmt` is a command from Hashicorp''s Packer tool used to ensure consistent configuration across multiple machine images or templates. It formats input files according to a defined scheme, such as HCL (Hashicorp Configuration Language), and reports any detected differences compared to the expected format. This helps maintain a uniform structure in your infrastructure definition files and makes it easier to collaborate with other team members.'
    flag:
        check: '[AI] `packer fmt -check` is a command in Packer, an open-source tool for building machine images, used to check if your Packer files conform to Packer''s configuration style. It doesn''t actually apply any format changes; it just reports whether the current configuration matches the expected format or not. This helps ensure consistency and readability across different Packer configurations.'
        diff: '[AI] `packer fmt --diff` is a command used with Packer, an open-source tool for building machine images and configuring infrastructure after provisioning. The `fmt` subcommand ensures that Packer templates follow a consistent style and structure. The `--diff` option generates a diff output, showing the changes that would be made if the template were reformatted according to Packer''s standards. This can help you review and understand the modifications before applying them.'
        recursive: |-
            [AI] `packer fmt --recursive` is a command from Packer, an open-source tool for building machine images. The `fmt` subcommand is used to ensure consistent configuration across multiple files in a Packer template.

            The `--recursive` option makes the `fmt` command apply formatting rules not only to the current file but also to all the files in the subdirectories recursively, ensuring a consistent style and structure throughout the entire project.
        write: '[AI] `packer fmt -write` is a command used in Packer, an open-source tool for building machine images, to apply formatting rules to template files written in Hashicorp Configuration Language (HCL). The `fmt` subcommand checks the templates against defined style guides and applies any necessary formatting changes. The `-write` flag instructs Packer to save the modified templates directly into the files instead of just displaying the differences, ensuring consistent formatting across your configuration files.'
