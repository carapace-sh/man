# yaml-language-server: $schema=https://carapace.sh/schemas/command.json
name: destroy
description: estroy one or more deployments
flags:
    --all: Delete ALL deployments, including released.
    --force: Yes to all confirmations.
    --label=: Labels to set for this operation.
    --plain: Plain output
    --remote: True to use a remote runner to execute.
    --remote-source=: Override configurations for how remote runners source data.
    --var-file=: HCL or JSON file containing variable values to set for this operation.
    --var=: Variable value to set for this operation.
    -a, --app=: App to target.
    -p, --project=: Project to target.
    -w, --workspace=: Workspace to operate in.
documentation:
    command: '[AI] The `waypoint deployment destroy` command is used to delete a previously deployed Waypoint application. Waypoint is an open-source solution for deploying and managing applications using Hashicorp''s Terraform configuration language. By executing this command, you are instructing Waypoint to tear down the infrastructure resources associated with your specified deployment, effectively removing it from your running environment.'
    flag:
        all: '[AI] The `waypoint deployment destroy --all` command is used in Hashicorp''s Waypoint configuration management tool to delete all existing deployed resources for a specific application or environment. This operation removes both the infrastructure and application configurations, resulting in a clean slate for new deployments. Be aware that this action may cause downtime for applications if they do not have an active rollout or canning strategy set up.'
        app: '[AI] The `flag "waypoint deployment destroy --app"` is a command used in Hashicorp''s Waypoint, an open-source continuous delivery and deployment tool for Kubernetes. This command is used to destroy (delete) a specific application deployed using Waypoint. When executed, it will remove the associated Kubernetes resources, such as Deployments, Services, ConfigMaps, Secrets, etc., that are managed by Waypoint for the given application. It''s important to note that this action can''t be undone easily, so ensure you have a backup or rollback strategy in place before executing this command.'
        force: '[AI] The `kubectl flag "waypoint deployment destroy --force"` is used to delete a Kubernetes Deployment and all its associated resources (such as Replicas, Services, etc.) with force. The `--force` flag overrides the protection of deleting resources that have related objects such as references. This command is typically used when you are certain that you want to permanently delete these resources without any recovery options. Always use this command with caution and ensure that there are no active replicas or critical data stored in those deployments before executing it.'
        label: '[AI] The `kubectl waypoint deployment destroy --label` command is used to delete Kubernetes deployments with the specified label. Waypoint is a deployment strategy provided by Microsoft for canary releases and blue-green deployments in Azure Kubernetes Service (AKS). With this command, you can selectively remove deployments based on their labels, helping in managing your application deployments efficiently.'
        plain: '[AI] The `kubectl flag "waypoint deployment destroy --plain"` is used to delete a Kubernetes Deployment and all related resources, such as Replicas and Services, without displaying the deletion messages. The `--plain` option suppresses the output of the confirmation message that would normally be displayed before execution. This command is useful when automating deployments or executing scripts where you don''t need to see the confirmation messages for each resource being deleted.'
        project: '[AI] The `waypoint deployment destroy` command is used to destroy (delete) a specific Kubernetes deployment managed by Waypoint, an open-source infrastructure automation tool. The `--project` flag is optional and should be followed by the name of the project where the deployment is located in Waypoint''s configuration files. For example: `waypoint deployment destroy myapp --project=myenv`. This command will remove the specified deployment along with all its associated resources like replicas, services, and other related Kubernetes objects.'
        remote: '[AI] `flag "waypoint decomposition destroy --remote"` is a command used in Waypoint, an open-source GitOps platform for Kubernetes. This command triggers the destruction of remote resources managed by Waypoint. In simpler terms, it deletes all the Kubernetes resources defined in the Waypoint configuration files that are deployed to a remote cluster. The `--remote` flag indicates that the operation is performed on a remote cluster instead of the local machine.'
        remote-source: '[AI] The `waypoint decomposition destroy --remote-source` command in Hashicorp''s Waypoint is used to destroy a specific remote source configuration, which could be an SSH or TCP connection to a target environment, such as Kubernetes or AWS. This action removes the configuration, effectively cutting off communication and access to that environment from Waypoint. It''s essential for security reasons, to manage changes in your infrastructure, or when you no longer need access to a specific target.'
        var: '[AI] The `kubectl flag "waypoint deployment destroy --var"` is used to delete a Kubernetes deployment with its associated resources (such as replica sets, services, etc.) while passing in custom variables. Waypoint is a tool for managing and delivering applications across multiple environments. In this context, the command is instructing Waypoint to destroy (remove) the specified deployment using the `kubectl` command-line interface, and to pass any provided variables as arguments during this destruction process. This can be useful when making changes to an application''s configuration before redeploying it in a different environment.'
        var-file: '[AI] The `kubectl flag "waypoint deployment destroy --var-file"` is used to delete a Kubernetes Deployment and its associated resources, specified in a YAML file, while providing custom variables through a separate file. This command is used within the Waypoint application definition tool for Terraform-like infrastructure management on Kubernetes. By using `--var-file`, you can modify the values of input variables from the external file without modifying the main deployment file itself. This makes it easier to manage configuration changes while preserving the original resource definitions.'
        workspace: |-
            [AI] The `flag "waypoint deployment destroy --workspace"` is used to destroy a specific Waypoint deployment in a given workspace. Waypoint is an open-source Terraform-based cloud development platform for building and deploying infrastructure as code.

            When you run this command, it will remove the infrastructure resources associated with that deployment, such as instances, containers, or other managed services, leaving the workspace itself intact. This can be useful when you want to tear down a non-production environment, roll back changes in a development cycle, or clean up resources no longer needed.

            The `--workspace` flag is used to specify the name of the workspace containing the deployment to be destroyed. This ensures that only the targeted infrastructure within that workspace will be affected by the command.
