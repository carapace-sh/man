# yaml-language-server: $schema=https://carapace.sh/schemas/command.json
name: chpasswd
description: update passwords in batch mode
flags:
    -R, --root=: directory to chroot into
    -c, --crypt-method=: the crypt method
    -e, --encrypted: supplied passwords are encrypted
    -h, --help: display this help message and exit
    -m, --md5: encrypt the clear text password using the MD5 algorithm
    -s, --sha-rounds=: number of rounds for the SHA or BCRYPT crypt algorithms
documentation:
    command: '[AI] The `chpasswd` command is a Linux utility used to change passwords for multiple user accounts in one operation. It reads a file containing a list of users and their new passwords, or prompts for them interactively. This command simplifies the process of modifying multiple user accounts by allowing batch changes, which can be particularly useful in system administration tasks.'
    flag:
        crypt-method: |-
            [AI] The `chpasswd` is a utility command in Unix and Linux systems used to change user passwords and various other related functionalities, including modifying crypt methods. The `--crypt-method` option specifies the encryption algorithm or method used to store the new password in the system's password file.

            For instance, when creating a new user, by default, Linux uses a strong hashing function called MD5 with a salt value for storing the password in the /etc/shadow file. However, other crypt methods like SHA-25, SHA-512, or Blowfish can be used instead. The choice of the crypt method is for security considerations and often depends on the specific system configuration requirements.

            In summary, `chpasswd --crypt-method` option allows specifying a particular encryption algorithm or method when changing a user password, enabling administrators to maintain security and compliance with the organization's policies.
        encrypted: '[AI] The `chpasswd --encrypted` command is a utility in Unix-based systems used to change or update encrypted password files, without revealing the actual passwords. It reads the new encrypted password from the standard input (usually provided by the `stty -echo` or `pwdump` commands), and updates the corresponding entry in the system''s password file (/etc/passwd or /etc/shadow) accordingly. The encryption algorithm used is typically the industry-standard SHA-256 or SHA-512 hashing algorithm, which converts plaintext passwords into an irreversible salted hash value before storing them in the files. This helps maintain security by preventing potential attackers from obtaining the actual passwords, even if they manage to gain unauthorized access to the system''s password files.'
        help: '[AI] `chpasswd` is a Linux utility used to change passwords for multiple user accounts in batch mode. The `--help` option is used to display detailed help information about how to use the `chpasswd` command. This includes a brief description of the command, usage syntax, examples, and options that can be used with the command. By running `chpasswd --help`, you will receive a clear explanation on how to effectively utilize this tool for managing user account passwords in a Linux system.'
        md5: '[AI] `chpasswd --md5` is a command used in Unix-based systems to change the encrypted password of one or more user accounts and store the new password hashes as MD5 hash values in the /etc/passwd file. The `--md5` option specifies that the new passwords should be stored as MD5 hashes, which is a commonly used encryption algorithm for storing password information in text files. By default, this command changes the password for the currently logged-in user; to change the password for another user, include the username before the password, such as `chpasswd --md5 john password`.'
        root: '[AI] `chpasswd` is a utility in Unix-like operating systems used to change user passwords, either individually or in batches. The command `chpasswd --root` specifically refers to executing the `chpasswd` tool with superuser (root) privileges. This allows the user to modify the passwords of other users in the system, which is typically restricted to the root user for security reasons. Therefore, using `chpasswd --root` requires the user to have the root password or be operating as the root user.'
        sha-rounds: '[AI] `chpasswd` is a utility in Unix-like operating systems used to change user passwords and various other related tasks, such as setting password expiry and minimum length requirements. The option `--sha-rounds` specifies the number of iterations (rounds) for the Shadow Hash Algorithm (SHA) used to store encrypted passwords in the system''s password file. Increasing this value enhances security by making it computationally more expensive to crack a password hash, since each round involves additional computational overhead. For example, `chpasswd --sha-rounds 10000` sets the number of SHA rounds to 10,000.'
