# yaml-language-server: $schema=https://carapace.sh/schemas/command.json
name: uninstall
description: Uninstall the Waypoint server
flags:
    --auto-approve: Auto-approve server uninstallation.
    --delete-context: Delete the context for the server once it's uninstalled.
    --ecs-cluster=: Configures the Cluster to uninstall.
    --ecs-region=: Configures which AWS region to uninstall from.
    --ignore-runner-error: Ignore any errors encountered while uninstalling runners.
    --k8s-context=: The Kubernetes context to unisntall the Waypoint server from.
    --k8s-namespace=: Namespace in Kubernetes to uninstall the Waypoint server from.
    --plain: Plain output
    --platform=: Platform to uninstall the Waypoint server from.
    --snapshot: Enable or disable taking a snapshot of Waypoint server prior to uninstall.
    --snapshot-name=: Filename to write the snapshot to.
    -a, --app=: App to target.
    -p, --project=: Project to target.
    -w, --workspace=: Workspace to operate in.
documentation:
    command: '[AI] The `waypoint server uninstall` command is used to uninstall the Waypoint server, which is a tool for managing and deploying infrastructure as code with HashiCorp''s Terraform or other tools. This command will remove the Waypoint server installation from your system along with its configurations and data. It may prompt for confirmation before proceeding with the uninstallation process.'
    flag:
        app: '[AI] The `waypoint server uninstall --app` command is used to uninstall an application installed with HashiCorp''s Waypoint, a modern, cloud-native application delivery platform. This command removes the specified application configuration along with any associated resources such as Kubernetes deployments or service instances. It''s important to note that this operation might have cascading effects on other components depending on how the application is deployed and configured. Always make sure to understand the implications before executing the command.'
        auto-approve: '[AI] The command `flag "waypoint server uninstall" --auto-approve` is used to uninstall a Waypoint server, which is a tool for managing and deploying applications with HashiCorp''s Nomad and Consul. The `--auto-approve` flag means that the uninstallation process will automatically approve any pending changes without requiring confirmation. This can be useful in automated environments where human interaction is not desired during the server uninstallation process.'
        delete-context: |-
            [AI] The command `waypoint server uninstall --delete-context` is used to completely remove a Waypoint server installation along with the associated context. Waypoint is an open-source tool for managing and deploying applications using Hashicorp's Terraform configuration language.

            The `uninstall` subcommand removes the Waypoint server, while the `--delete-context` option deletes the local context file, which stores the configuration specific to the connected Waypoint server instance. This command is helpful when you want to uninstall and forget a particular Waypoint server setup.
        ecs-cluster: '[AI] The command `flag "waypoint server uninstall --ecs-cluster"` is used in the Waypoint configuration file to specify that during the destruction of an infrastructure, the associated Amazon ECS (Elastic Container Service) cluster should be deleted as well. The flag triggers the uninstallation of the Waypoint server and the removal of the specified ECS cluster when the Waypoint apply or plan command is run with this flag included.'
        ecs-region: '[AI] The command `flag "waypoint server uninstall" --ecs-region` is used with Waypoint, a open-source infrastructure automation tool developed by Hashicorp. This specific flag modifier is used to specify the Amazon Elastic Container Service (ECS) region when invoking the `waypoint server uninstall` command. The purpose of this command is to uninstall and remove an already deployed Waypoint configuration in the specified ECS region, including its associated resources such as tasks, services, clusters, and other related artifacts.'
        ignore-runner-error: '[AI] The `waypoint server uninstall --ignore-runner-error` command is used to uninstall the Waypoint server from a system. The `--ignore-runner-error` option is added to suppress any runner-related errors that might occur during the uninstallation process. It''s important to note that ignoring runner errors may leave some resources in place, and it''s recommended to use this option with caution and only when necessary.'
        k8s-context: '[AI] The `flag "waypoint server uninstall --k8s-context"` is used to uninstall Waypoint, an open-source continuous delivery and deployment tool for Kubernetes, from a specific Kubernetes context in your `kubeconfig`. When you run this command, Waypoint''s custom resources, configurations, and other related components will be removed from the specified context. It is important to ensure that you have the correct context selected before running this command, as unintended removal of resources can occur.'
        k8s-namespace: '[AI] The command `flag "waypoint server uninstall" --k8s-namespace` is used to uninstall the Waypoint Kubernetes server from a specific Kubernetes namespace. Waypoint is an open-source GitOps tool for managing infrastructure as code. Uninstalling the Waypoint server involves removing the custom resources and configurations that were deployed in the specified Kubernetes namespace, effectively disabling Waypoint''s management of those resources. This command assumes that Waypoint has been installed using the official Waypoint Helm chart.'
        plain: '[AI] The command `flag "waypoint server uninstall" --plain` is used to initiate an uninstallation process for a Waypoint server using the Terraform configuration management tool. The `--plain` flag indicates that only the commands required for the uninstallation should be printed to the console, without any additional formatting or explanatory text. In essence, this command displays the raw, unadorned instructions needed to remove a Waypoint server instance from your infrastructure configuration.'
        platform: '[AI] The command `flag "waypoint server uninstall --platform"` is used to uninstall Waypoint, an open-source Kubernetes and cloud-native application management solution by Google, from a specific platform or environment. The `--platform` flag indicates which platform or environment the uninstallation should be performed on. This could be a local Kubernetes cluster, a cloud provider like Google Cloud Platform or Amazon Web Services, or any other supported platform where Waypoint has been installed.'
        project: '[AI] The command `flag "waypoint server uninstall" --project` is used to uninstall a Waypoint project, which is managed by Hashicorp''s Waypoint infrastructure management tool. Waypoint manages the deployment and configuration of applications across multiple environments. When you run this command with the `--project` flag, it specifies the name or the directory path of the particular project that needs to be uninstalled from Waypoint. This action removes the configuration of the application and its related resources from Waypoint, but it does not delete any infrastructure or data associated with the application itself.'
        snapshot: '[AI] The command `waypoint server uninstall --snapshot` is used to uninstall a Waypoint server installation while keeping its configuration and data in a snapshot for potential future use. Waypoint is an open-source tool for managing and deploying applications. The `--snapshot` flag ensures that the current state of the server''s configuration and data is saved before uninstallation, allowing users to revert back to this state if needed.'
        snapshot-name: '[AI] The command `waypoint server uninstall --snapshot-name` is used to uninstall a previously installed Waypoint server instance while keeping a snapshot of its configuration for potential future use. Waypoint is an open-source tool for managing and deploying infrastructure as code, and this command allows you to remove an existing server setup while preserving its configuration data.'
        workspace: '[AI] The command `flag "waypoint server uninstall" --workspace` is used in Terraform''s Waypoint tool for managing infrastructure as code. This command initiates the process of uninstalling a Waypoint server from a specific workspace. When run, it removes the server configuration associated with that workspace, effectively disconnecting the workspace from the Waypoint server and any connected remote state backends. This action should be used carefully, as it will break the connection to the backend storing your Terraform state files, potentially leading to data loss if proper precautions are not taken beforehand.'
