# yaml-language-server: $schema=https://carapace.sh/schemas/command.json
name: whoami
description: 'Experimental: Check self subject attributes'
flags:
    --allow-missing-template-keys: If true, ignore any errors in templates when a field or map key is missing in the template. Only applies to golang and jsonpath output formats.
    --show-managed-fields: If true, keep the managedFields when printing objects in JSON or YAML format.
    --template=: Template string or path to template file to use when -o=go-template, -o=go-template-file. The template format is golang templates [http://golang.org/pkg/text/template/#pkg-overview].
    -o, --output=: 'Output format. One of: (json, yaml, name, go-template, go-template-file, template, templatefile, jsonpath, jsonpath-as-json, jsonpath-file).'
documentation:
    command: '[AI] The `kubectl auth whoami` command is used to display the currently authenticated user and their associated context in the Kubernetes cluster configuration. In other words, it shows the identity of the person or service currently using the `kubectl` command line tool to interact with a specific Kubernetes cluster.'
    flag:
        allow-missing-template-keys: '[AI] `kubectl auth whoami --allow-missing-template-keys` is a command used with Kubernetes'' `kubectl` tool to display the authenticated identity and the current context in the Kubernetes cluster. The `--allow-missing-template-keys` flag allows the output of this command to still be printed even if there are missing keys in the template files being used, which is useful when dealing with YAML or JSON manifests where some keys might not be present yet but the deployment process is still ongoing.'
        output: '[AI] `kubectl auth whoami --output` is a command used with the Kubernetes command-line tool (kubectl) to display the currently authenticated user or identity in the Kubernetes cluster. The `--output` flag specifies the output format, which can be set to "json" or "wide" among other options. For example, using `--output json` will return a JSON object containing the username.'
        show-managed-fields: '[AI] The `kubectl auth whoami --show-managed-fields` command is used to display the managed fields and their associated RBAC rules for the currently authenticated user in a Kubernetes cluster. In simple terms, it provides information about which resources or API endpoints the current user has permissions to manage or modify through Role-Based Access Control (RBAC). This can be helpful in understanding the level of access and capabilities granted to the specific user within the Kubernetes environment.'
        template: '[AI] `kubectl auth whoami --template` is a command used with the Kubernetes command-line tool (`kubectl`) to display the currently authenticated user or identity in a customized output format. The `--template` flag allows specifying a custom template using the Go text/template syntax for formatting the output. This command helps in scripts and automation for identifying the active context and associated user or identity within a Kubernetes cluster.'
