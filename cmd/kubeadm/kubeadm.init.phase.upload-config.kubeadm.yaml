# yaml-language-server: $schema=https://carapace.sh/schemas/command.json
name: kubeadm
description: Upload the kubeadm ClusterConfiguration to a ConfigMap
flags:
    --config=: Path to a kubeadm configuration file.
    --kubeconfig=: The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.
documentation:
    command: '[AI] The command `kubeadm init phase upload-config kubeadm` is used to upload the Kubernetes configuration files generated during the initialization of a Kubeadm cluster to the etcd server. This is an internal process that occurs during the `init` phase when setting up a new Kubeadm cluster with the `kubeadm init` command. The configuration files include the certificate authorities, certificates, and Kubernetes cluster state data which are necessary for managing the cluster. By default, these files are uploaded to the etcd server running on localhost, but they can be specified to be uploaded to a remote etcd server using the `--etcd-server` flag.'
    flag:
        config: '[AI] The command `kubeadm init phase upload-config kubeadm --config <path>` is used to initiate a new Kubernetes cluster using kubeadm and upload the configuration files to the first control-plane node. The `--config` option specifies the path to the kubeadm configuration file, which includes details such as the desired number of nodes, network settings, and other important parameters for setting up the cluster. After running this command, the initial configuration files are uploaded and the cluster initialization process can continue with subsequent commands like `kubeadm join` for worker nodes or `kubectl apply --validate` for applying additional configuration.'
        kubeconfig: '[AI] `kubeadm init` is a command used to bootstrap a Kubernetes cluster with `kubeadm`. The `upload-config` subcommand is used to upload the Kubernetes configuration data to a given location, typically a secure external etcd server or cloud provider''s etcd service. The `--kubeconfig` flag specifies the path to the local `kubeconfig` file that will be generated during the `init` process. This `kubeconfig` file contains the necessary information for accessing the new Kubernetes cluster, such as the API server endpoint and authentication credentials. So, the entire command `kubeadm init phase upload-config kubeadm --kubeconfig` uploads the Kubernetes configuration data to the specified location using `kubeadm init`, while also generating a local `kubeconfig` file for cluster access.'
