# yaml-language-server: $schema=https://carapace.sh/schemas/command.json
name: init
description: Initialize a new repository
flags:
    --copy-chunker-params: copy chunker parameters from the secondary repository (useful with the copy command)
    --key-hint2=: 'key ID of key to try decrypting the secondary repository first (default: $RESTIC_KEY_HINT2)'
    --password-command2=: 'shell `command` to obtain the secondary repository password from (default: $RESTIC_PASSWORD_COMMAND2)'
    --password-file2=: '`file` to read the secondary repository password from (default: $RESTIC_PASSWORD_FILE2)'
    --repo2=: 'secondary `repository` to copy chunker parameters from (default: $RESTIC_REPOSITORY2)'
    --repository-file2=: '`file` from which to read the secondary repository location to copy chunker parameters from (default: $RESTIC_REPOSITORY_FILE2)'
documentation:
    command: '[AI] `restic init` is a command used in Restic, a backup program. It initializes a new repository, which is a storage location for backups. This command sets up an empty repository with the specified path and preparation for storing and managing backups using Restic. Once initialized, you can use other Restic commands like `restic backup` or `restic restore` to interact with the repository.'
    flag:
        copy-chunker-params: |-
            [AI] The `restic init` command is used to initialize a new backup repository in Restic, an open-source backup program. The `--copy-chunker-params` option is one of the flags that can be passed to this command.

            This flag enables the use of the Copy Chunker algorithm for deduplication during the backup process. The Copy Chunker algorithm analyzes the content of files being backed up and identifies chunks that are identical between files or previous backups. Instead of storing the entire file, only the unique chunks are stored along with references to the shared chunks. This significantly reduces storage requirements and accelerates backups by avoiding redundant data transfer.
        key-hint2: '[AI] `restic` is a backup program that uses the Git data model for versioning backups. The command `restic init --key-hint2` initializes a new restic repository with a default encryption key, but it also generates a hint (a partial representation of the key) to help users recover their keys if they are lost. The `--key-hint2` option generates and displays a second hint for the encryption key in addition to the default one. This is useful as a backup measure to ensure that multiple hints are stored separately and safely to increase the chances of being able to restore the encryption key if it is ever lost.'
        password-command2: '[AI] The `restic init` command with the `--password-command2` option is used to initialize a new backup repository in the restic backup tool. This option specifies that the password for encrypting backups should be provided by an external command rather than being directly supplied on the command line or in a configuration file. The command is called twice, once for each part of a two-part password, ensuring increased security as the parts do not need to be combined until the final backup process.'
        password-file2: '[AI] The `restic init` command is used to initialize a new backup repository in restic, a versatile and efficient backup program. The option `--password-file2` specifies that the password for encrypting the backup data should be read from the file given by the argument following this option. This ensures that the backup data is securely encrypted with the specified password during the backup process.'
        repo2: '[AI] The `restic init --repo2` command is used to initialize a new versioned backup repository with restic, a versatile and efficient data backup program. The option `--repo2` specifies that an existing repository directory should be used as the basis for the new repository, rather than creating a new one from scratch. This can be useful when setting up multiple backups that share common data to minimize disk usage and improve performance.'
        repository-file2: '[AI] `restic` is a backup program that uses the Git data model for versioning and deduplication. The command `restic init --repository-file2` initializes a new repository with the given file path (`--repository-file2`) as the storage backend. This command sets up an empty repository, ready to receive backups. Once initialized, you can use `restic backup` and `restic restore` commands to add data to the repository and retrieve it later.'
