# yaml-language-server: $schema=https://carapace.sh/schemas/command.json
name: apiserver-etcd-client
description: Renew the certificate the apiserver uses to access etcd
flags:
    --cert-dir=: The path where to save the certificates
    --config=: Path to a kubeadm configuration file.
    --kubeconfig=: The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.
documentation:
    command: '[AI] The `kubeadm certs renew apiserver-etcd-client` command is used to renew the TLS certificates for the apiserver-etcd-client relationship in a Kubernetes cluster managed by Kubeadm. This command ensures the secure communication between the Kubernetes API server and etcd, which is the key-value data store for storing the cluster configuration. By running this command, new certification files are generated with updated expiration dates, maintaining a secure environment for your Kubernetes cluster.'
    flag:
        cert-dir: '[AI] The `kubeadm certs renew` command is used to renew the TLS certificates for the Kubernetes components such as the API server and etcd client. The `--cert-dir` flag specifies the directory where the new certificates will be saved after renewal. When you run this command, kubeadm will generate and sign new certificates using the CA key in the `pki/ca.key` file and save the new certificates in the specified directory (`--cert-dir`) while keeping the old certificates for comparison during the renewal process. After successful renewal, you can update the Kubernetes components to use the newly generated certificates for secure communication between components.'
        config: '[AI] The command `kubeadm certs renew apiserver-etcd-client --config` is used to renew the TLS certificates for the API server and etcd client in a Kubernetes cluster managed by Kubadm. TLS certificates are important for securing communication between different components of the cluster. The `--config` flag specifies the path to the configuration directory where the Kubeadm configuration files are located. When executed, this command will regenerate the expired or near-expiring certificates and update their corresponding private keys in the specified configuration directory.'
        kubeconfig: '[AI] The command `kubeadm certs renew apiserver-etcd-client` is used to renew the TLS certificates for the Kubernetes apiserver and etcd client communication in a Kubernetes cluster managed by Kubeadm. This command should be executed when the current certificates are close to expiration or have already expired, to ensure secure communication between these critical components. The `--kubeconfig` option specifies the path to the kubeconfig file that contains the configuration details for connecting to the cluster.'
