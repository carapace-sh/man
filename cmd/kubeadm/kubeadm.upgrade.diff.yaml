# yaml-language-server: $schema=https://carapace.sh/schemas/command.json
name: diff
description: 'Show what differences would be applied to existing static pod manifests. See also: kubeadm upgrade apply --dry-run'
flags:
    --api-server-manifest=: path to API server manifest
    --config=: Path to a kubeadm configuration file.
    --controller-manager-manifest=: path to controller manifest
    --kubeconfig=: The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.
    --scheduler-manifest=: path to scheduler manifest
    -c, --context-lines=: How many lines of context in the diff
documentation:
    command: '[AI] `kubeadm upgrade diff` is a command used to show the differences between two Kubernetes clusters managed by Kubeadm, prior to performing an upgrade. It compares the current cluster configuration with a specified version or repository tag and displays the changes that will be applied during an upgrade. This command helps users understand what will change before executing an actual upgrade, allowing for better planning and potential adjustments if necessary.'
    flag:
        api-server-manifest: '[AI] `kubeadm upgrade diff --api-server-manifest` is a command used to compare the current configuration of a Kubernetes cluster managed by kubeadm with a new version''s API server configuration. The output shows the differences between the two configurations, including added or modified fields. This command helps you understand what will change when applying an upgrade using `kubeadm`. It is useful for reviewing the impact of an upgrade before actually performing it in production environments to ensure compatibility and minimize potential disruptions.'
        config: |-
            [AI] `kubeadm upgrade diff --config` is a command used to compare the difference between two Kubernetes cluster configurations defined in YAML files. The command takes as an argument the path to two configuration files, and it outputs the differences between them in the form of merge conflicts, which can be resolved manually.

            The command is useful when planning to upgrade a Kubernetes cluster managed by kubeadm. By comparing the differences between the current and desired configurations, you can identify any potential changes that need to be made before running the upgrade command. This includes changes to Kubernetes versions, node labels, or other configuration settings.

            The output of the command is in the standard format for Git merge conflicts, making it easy to use tools like Visual Studio Code or the `git mergetool` command to resolve any conflicts that are identified. Once all conflicts have been resolved, you can apply the upgraded configuration to your cluster using `kubeadm apply`.
        context-lines: '[AI] `kubeadm upgrade diff` is a command used to compare the current and desired state of a Kubernetes cluster managed by kubeadm. The `--context-lines` option specifies the number of lines of context to display for each difference found. This command helps you understand what will change when you run an upgrade or update command, allowing you to review and decide if it''s safe to proceed before actually performing the upgrade.'
        controller-manager-manifest: '[AI] `kubeadm upgrade diff` is a command used to check the differences between the current and new manifest files for Kubernetes controller manager components before performing an actual upgrade with `kubeadm`. The `--controller-manager-manifest` flag specifies that the output should only show the changes related to the controller manager component. This can help in understanding what will be modified during the upgrade process, allowing for a more informed decision before applying the changes.'
        kubeconfig: '[AI] `kubeadm upgrade diff` is a command used to check the differences between the current and desired versions of a Kubernetes cluster managed by kubeadm before performing an upgrade. The `--kubeconfig` option specifies the location of the Kubernetes configuration file to use for this operation. In other words, it shows what will change during an upgrade without actually executing the upgrade.'
        scheduler-manifest: '[AI] The `kubeadm upgrade diff` command with the `--scheduler-manifest` option is used to show the differences between the current and desired Kubernetes scheduler configurations during an upgrades process with `kubeadm`. This flag generates a YAML manifest that displays the modifications that would be made to the Kubernetes scheduler configuration files. It helps to review the changes before applying them, ensuring that any intended modifications to the scheduling system are accurately applied during an upgrade.'
