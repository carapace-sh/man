# yaml-language-server: $schema=https://carapace.sh/schemas/command.json
name: create
description: Create an ACL auth method
flags:
    --ca-file=: Path to a CA file to use for TLS when communicating with Consul.
    --ca-path=: Path to a directory of CA certificates to use for TLS when communicating with Consul.
    --client-cert=: Path to a client cert file to use for TLS when 'verify_incoming' is enabled.
    --client-key=: Path to a client key file to use for TLS when 'verify_incoming' is enabled.
    --config=: The configuration for the auth method.
    --datacenter=: Name of the datacenter to query.
    --description=: A description of the auth method.
    --display-name=: An optional name to use instead of the name when displaying this auth method in a UI.
    --format=: Output format.
    --http-addr=: The `address` and port of the Consul HTTP agent.
    --kubernetes-ca-cert=: PEM encoded CA cert for use by the TLS client used to talk with the Kubernetes API.
    --kubernetes-host=: Address of the Kubernetes API server.
    --kubernetes-service-account-jwt=: A Kubernetes service account JWT used to access the TokenReview API to validate other JWTs during login.
    --max-token-ttl=: Duration of time all tokens created by this auth method should be valid for
    --meta: Indicates that auth method metadata such as the raft indices should be shown for each entry.
    --name=: The new auth method's name.
    --namespace=: Specifies the namespace to query.
    --stale: Permit any Consul server (non-leader) to respond to this request.
    --tls-server-name=: The server name to use as the SNI host when connecting via TLS.
    --token-file=: File containing the ACL token to use in the request.
    --token-locality=: Defines the kind of token that this auth method should produce.
    --token=: ACL token to use in the request.
    --type=: The new auth method's type.
documentation:
    command: '[AI] The `consul acl auth-method create` command is used to create a new authentication method in Consul''s Access Control List (ACL) system. This command requires specifying a name for the new method and its associated configuration. The authentication method determines how Consul authenticates clients making requests to its HTTP API or gRPC interfaces. Once created, this method can be assigned to ACL policies to control access to resources within the Consul ecosystem.'
    flag:
        ca-file: '[AI] The `consul acl auth-method create --ca-file` command is used to create a new Authentication Method in Consul Access Control List (ACL) with TLS client certificates as the authentication mechanism. `--ca-file` option specifies the path to the CA (Certificate Authority) file that will be used to sign the client certificates. This command generates and returns the secret key for the new authentication method, which can then be used when defining ACL policies in Consul.'
        ca-path: '[AI] `consul acl auth-method create --ca-path` is a command used in Hashicorp Consul, an open-source tool for service discovery, configuration, and orchestration. This command creates a new authentication method for Access Control Lists (ACL) using a Certificate Authority (CA) file located at the specified path `--ca-path`. The CA file is used to sign the certificates of clients that will authenticate with this method, thereby adding an additional layer of security.'
        client-cert: '[AI] The `consul acl auth-method create --client-cert` command is used to create an Authentication Method in Consul Access Control List (ACL) with client certificate authentication. In simpler terms, it sets up Consul ACL to authenticate clients based on their TLS certificates. This can be useful for securing communication between Consul and clients that need access to specific resources. The `--client-cert` flag indicates that the authentication method will use client certificates for verification.'
        client-key: '[AI] The `consul acl auth-method create --client-key` command is used to create a new Authentication Method in Hashicorp Consul''s Access Control List (ACL) system with the given name and a new client key. This command interacts with Consul''s Key Value Store functionality, specifically the ACL subsystem. The `create` flag instructs Consul to generate a new client key for this authentication method upon creation.'
        config: '[AI] The `consul acl auth-method create --config` command is used in Hashicorp Consul, an open-source multi-purpose solution for service discovery, configuration, and orchestration. It creates a new authentication method in Consul''s Access Control List (ACL) using the provided configuration. The `--config` flag specifies the configuration data for the new authentication method. This command doesn''t create an actual authentication token or secret but defines the structure and settings of the new authentication method, which can then be used to secure access to Consul resources.'
        datacenter: '[AI] The `consul acl auth-method create --datacenter` command in Consul is used to create a new authentication method for Access Control Lists (ACL) in that specific datacenter. This command creates an authenticator, which is an entity that can authenticate and authorize requests to the Consul ACL API. The `--datacenter` flag specifies the name of the datacenter where this authentication method will be created. Once created, this authenticator can be configured with various backends like token, X.509 certificates, LDAP, or others for granting access to ACL resources.'
        description: '[AI] The `consul acl auth-method create` command with the flag `--description` is used to create a new authentication method in Hashicorp Consul''s Access Control List (ACL) system. The `--description` flag allows you to specify a brief explanation or label for the authentication method, helping to improve the understanding and organization of your ACL configuration.'
        display-name: '[AI] The `consul acl auth-method create` command is used to create a new authentication method in Consul''s Access Control List (ACL) system. The `--display-name` flag is optional and, if provided, specifies the name that will be displayed for this authentication method in the Consul UI and API. It does not affect the internal name or the configuration of the authentication method itself.'
        format: |-
            [AI] The `consul acl` command with the `auth-method create --format` flag is used to create a new authentication method in Hashicorp Consul Access Control List (ACL) and output the result in a specified format.

            Here's a breakdown of each part of the command:

            1. `consul`: This is the name of the Consul CLI tool used to interact with a Consul server.
            2. `acl`: This specifies that we're working with the Access Control List feature in Consul.
            3. `auth-method create`: This subcommand creates a new authentication method in Consul ACL.
            4. `--format`: This flag is used to specify the output format for the command result, which can be either "json" or "tabulated". In this case, it's not clear what exact format was intended without further context.
        http-addr: |-
            [AI] The `consul acl auth-method create --http-addr` command is used to create a new Authentication Method in Consul's Access Control List (ACL) with an HTTP address.

            Consul ACL is a feature that enables fine-grained access control over the Consul services, configuration, and data. An Authentication Method defines how Consul will authenticate requests to its API. The `--http-addr` option specifies the HTTP address where the authentication method will be served. This could be an external identity provider or a reverse proxy terminating TLS connections.

            By running this command, you create a new Authentication Method in the Consul configuration, allowing it to communicate with this specific address for authentication and authorization purposes.
        kubernetes-ca-cert: '[AI] The `consul acl auth-method create --kubernetes-ca-cert` command is used in Hashicorp Consul to create an Authentication Method in the Access Control List (ACL) for Kubernetes clusters. This method allows Consul to verify the authenticity of requests coming from a Kubernetes cluster using its CA cert. By providing the `--kubernetes-ca-cert` flag, you are supplying the certificate file that Consul will use to validate incoming requests from the specified Kubernetes cluster. This enables fine-grained access control based on Kubernetes identities and roles within Consul.'
        kubernetes-host: '[AI] The `consul acl auth-method create --kubernetes-host` command is used to create an Authentication Method in Hashicorp Consul''s Access Control List (ACL) system that utilizes Kubernetes for identity and access management. With this method, Consul can securely communicate with a Kubernetes cluster to retrieve and verify tokens for access control decisions. The `--kubernetes-host` flag specifies the hostname or IP address of the Kubernetes API server to be used for authentication.'
        kubernetes-service-account-jwt: '[AI] The `consul acl auth-method create` command with the `--kubernetes-service-account-jwt` option is used to create an Access Control List (ACL) authentication method in Hashicorp Consul, which utilizes JSON Web Tokens (JWTs) issued by Kubernetes Service Accounts. This enables Consul to securely authenticate requests from Kubernetes services using their corresponding JWT tokens. The result is fine-grained access control over Consul resources based on the claims within these tokens.'
        max-token-ttl: '[AI] The `consul acl auth-method create --max-token-ttl` command is used to create a new authentication method in Consul Access Control List (ACL) system, specifically for the Token type. The `--max-token-ttl` flag sets the maximum time-to-live (TTL) for tokens created using this method. In simpler terms, it defines the expiration period for generated tokens when using this authentication method.'
        meta: '[AI] The `consul acl auth-method create --meta` command in Consul is used to create a new authentication method for Access Control Lists (ACL). The `--meta` flag is optional and allows you to set custom metadata key-value pairs associated with the new authentication method. This can be useful for adding additional information or context to the authentication method. For example, you might use it to specify an external ID or a description of the authentication method in a JSON format. The overall effect of this command is to define a new way for Consul to authenticate requests to its ACL API.'
        name: '[AI] The `consul acl auth-method create` command with the `--name` option is used to create a new authentication method in Hashicorp Consul''s Access Control List (ACL) system. This command creates a new authentication method with the specified name, allowing clients or tokens to authenticate and access Consul services and configurations using that method. The exact implementation of the authentication method depends on the specific plugin being used. For example, it could be an API key token, OAuth2, or other external identity provider.'
        namespace: '[AI] The `consul acl auth-method create --namespace` command is used in Consul, an open-source tool for service discovery, configuration, and orchestration. It creates a new authentication method within the specified namespace in the Access Control List (ACL) of Consul. This enables fine-grained access control for securing communication between different services or applications using Consul. The `--namespace` flag is used to specify the particular namespace where the new authentication method will be created.'
        stale: '[AI] The `consul acl auth-method create --stale` command is used in Consul, an open-source tool for service discovery, configuration, and orchestration. It creates a new authentication method in the Access Control List (ACL) of Consul with the given name. The `--stale` flag allows creating the new authentication method even if there is a conflict with an existing method, meaning it will overwrite any conflicting methods without raising an error. This can be useful when updating or modifying existing authentication methods, but please use it with caution to avoid unintended consequences.'
        tls-server-name: |-
            [AI] The `consul acl auth-method create --tls-server-name` command is used in Hashicorp Consul, an open-source tool for service discovery, configuration, and orchestration. This command creates a new Authentication Method in Consul Access Control List (ACL) with TLS server name verification.

            In more detail, `consul acl auth-method create` is the command to create a new authentication method in Consul ACL, while `--tls-server-name` is an option that specifies the server name that will be used for TLS certificate verification when establishing secure communication between Consul and clients using this authentication method. This ensures the security of communication by verifying the identity of the Consul server before allowing access to its services or configuration data.
        token: '[AI] The `consul acl auth-method create --token` command is used to create a new authentication method in Consul Access Control Lists (ACL) using an API token as the authentication mechanism. Consul ACL allows defining and managing access policies for different services, keys, and other resources within a Consul cluster. By specifying `--token` followed by the API token, this command creates a new authentication method that will accept requests only from consoles or applications bearing that token.'
        token-file: |-
            [AI] The `consul acl auth-method create` command is used to create a new authentication method in Hashicorp Consul's Access Control List (ACL) system. The `--token-file` option specifies the path to a file containing an access token that has the necessary permissions to create an authentication method.

            This command creates a new authentication method in the Consul ACL policy, allowing clients or services to authenticate using that specific method. The exact behavior of the authentication method depends on the specific implementation being used. For example, it could be an OAuth2 provider, a certificate authority, or another custom authentication mechanism supported by Consul.

            The access token should have the `acl_create_auth_method` permission in its policy to be able to create new authentication methods. The command returns the details of the newly created authentication method upon successful execution.
        token-locality: '[AI] The `consul acl auth-method create --token-locality` command is used to create an Authentication Method in Consul''s Access Control List (ACL) system, specifically one that utilizes a token for authentication with a local data center. This method is often employed when communicating with the Consul agent directly or within a single data center environment. The `--token-locality` option signifies that this is a local (rather than external) token, enhancing security by restricting access to services and configuration within the Consul cluster based on the presented token.'
        type: '[AI] The `consul acl auth-method create --type` command is used to create a new authentication method in Hashicorp Consul Access Control List (ACL) with the specified type. Consul ACL supports various types of authentication methods such as token, X.509 certificates, LDAP, and more. The `--type` option specifies which authentication method type to create. For example, `consul acl auth-method create --type x509` would create an X.509 certificate-based authentication method.'
