# yaml-language-server: $schema=https://carapace.sh/schemas/command.json
name: get-config
description: Display the current Connect Certificate Authority (CA) configuration
flags:
    --ca-file=: Path to a CA file to use for TLS when communicating with Consul.
    --ca-path=: Path to a directory of CA certificates to use for TLS when communicating with Consul.
    --client-cert=: Path to a client cert file to use for TLS when 'verify_incoming' is enabled.
    --client-key=: Path to a client key file to use for TLS when 'verify_incoming' is enabled.
    --datacenter=: Name of the datacenter to query.
    --http-addr=: The `address` and port of the Consul HTTP agent.
    --stale: Permit any Consul server (non-leader) to respond to this request.
    --tls-server-name=: The server name to use as the SNI host when connecting via TLS.
    --token-file=: File containing the ACL token to use in the request.
    --token=: ACL token to use in the request.
documentation:
    command: '[AI] The `consul connect ca get-config` command is used within the Consul Connect service mesh to retrieve the configuration of a Certificate Authority (CA). This CA is responsible for issuing and managing certificates for secure communication between services in the mesh. By executing this command, you can obtain important CA-related information such as its address, key, and certificate. This data is crucial for setting up clients or services that need to communicate with the Consul Connect service mesh, ensuring secure and encrypted communication between them.'
    flag:
        ca-file: '[AI] `consul connect ca get-config --ca-file` is a command used in the Consul Connect service discovery and encryption platform. This command retrieves the CA (Certificate Authority) configuration data, specifically the CA file, which is required for establishing secure communication between services using SSL/TLS certificates. The `--ca-file` option specifies an output file where the CA information will be saved.'
        ca-path: '[AI] `consul connect ca get-config --ca-path` is a command used with Consul Connect, a service mesh solution from Hashicorp. This command retrieves the CA (Certificate Authority) configuration data, specifically the CA certificates and keys stored in Consul''s Key Value Store, which are located at the specified path `--ca-path`. The obtained data can be utilized to issue new client certificates within the Consul Connect environment, ensuring secure communication between services.'
        client-cert: '[AI] `consul connect ca get-config --client-cert` is a command used in Hashicorp Consul Connect, an open-source service mesh and connectivity solution. This command retrieves the client certificate configuration for a specific client in the Consul service registry. The output includes the certificate and key data, which can be used to authenticate and secure communication between services in the mesh.'
        client-key: '[AI] `consul connect ca get-config --client-key` is a command used in the Consul service discovery and configuration management tool. The command retrieves the SSL client certificate and key for a specific Connect client, which can be used to secure communication between services in a Consul service mesh. The output includes the client name, the certificate PEM data, and the private key PEM data. These files can then be used to configure the client application that communicates with other services through Consul Connect.'
        datacenter: '[AI] The `consul connect ca get-config --datacenter` command is used with Hashicorp''s Consul Connect tool to retrieve the certificate authority (CA) configuration for a specific datacenter in the Consul service discovery and networking platform. This configuration contains the CA certificates and keys necessary to securely establish encrypted communication channels between various services or clients that are registered within the same datacenter. The output of this command can be used to apply these certificates to relevant applications, allowing them to authenticate and communicate securely with each other through Consul Connect.'
        http-addr: '[AI] The `consul connect ca get-config --http-addr` command is used with the Consul Connect tool, which is a part of Hashicorp''s Consul service mesh. This command retrieves the TLS certificate authority (CA) configuration for secure communication between services in a Consul Connect mesh. The `--http-addr` flag specifies the HTTP address where the Consul Connect server is running, and the command returns the CA configuration data that can be used to create client certificates for secure communication between services.'
        stale: |-
            [AI] `consul connect ca get-config --stale` is a command used with Hashicorp's Consul service, which manages and discovers services within a network. The `--stale` flag indicates that the configuration data returned should include any changes that have been proposed but not yet applied, also known as "stale" or "draft" configurations.

            The command `consul connect ca get-config` retrieves the certificate authority (CA) configuration for Consul Connect, which is a component of Consul used for secure communication between services and clients in a network. By using the `--stale` flag, you can check for any proposed changes to the CA configuration before they are applied, allowing you to review and approve or reject them if necessary. This can be helpful when managing certificates and ensuring that your security policies are up-to-date and consistent within your network environment.
        tls-server-name: |-
            [AI] The `consul connect ca get-config --tls-server-name` command is used with Hashicorp's Consul service discovery and Connect networking solution. This command retrieves the TLS server certificate name or address that should be used when establishing secure connections between Consul services using the Connect networking feature.

            The output of this command provides the necessary information for configuring a client application to securely communicate with a Consul service through Connect. The provided TLS server name or address, along with other necessary configuration details, enables encrypted communication and helps ensure the security of data transmitted between services within a Consul cluster.
        token: '[AI] `consul connect ca get-config --token` is a command used with the Consul Connect service, which is part of the Consul platform. This command retrieves the configuration of Certificate Authority (CA) for secure communication between services in a Consul-connected cluster using TLS. The `--token` option specifies the token to authenticate the request and access the required configuration data.'
        token-file: |-
            [AI] The command `consul connect ca get-config --token-file` is used in the Consul service discovery and configuration management tool. This command retrieves the TLS certificate authority (CA) configuration for Connect, which is Consul's built-in service proxy.

            The `--token-file` flag specifies the file path containing a valid Connect token that grants access to the CA configurations. The output of this command includes the CA certificates and key files in PEM format, allowing you to securely configure your Connect proxies or services that use mutual TLS authentication.
